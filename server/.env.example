# Copy this file to .env and fill in values
# Never commit your real .env (it contains secrets).

# Shared secret expected from Android -> server (optional)
# Used for BOTH (if you enable secret-based auth):
# - legacy JSON field: {"secret": "..."}
# - HMAC headers: X-Timestamp + X-Signature
SMS_BRIDGE_SECRET=change-me-strong

# HMAC replay window (seconds)
HMAC_WINDOW_SECONDS=120

# Security hardening (secret-based auth only):
# - true: accept legacy JSON {"secret": ...} without HMAC headers
# - false: require X-Timestamp + X-Signature on every request
ALLOW_LEGACY_SECRET=true

# Auth (recommended)
# - true: require Authorization: Bearer <token> on /sms/incoming
# - false: allow secret/HMAC-only mode
AUTH_REQUIRED=true

# Transitional:
# - true: allow secret/HMAC auth on /sms/incoming when no Bearer token is present
# - false: Bearer token only
ALLOW_SECRET_AUTH=false

# Telegram Bot API
TELEGRAM_BOT_TOKEN=123456:REPLACE_WITH_YOUR_TOKEN
TELEGRAM_CHAT_ID=REPLACE_WITH_YOUR_CHAT_ID

# Formatting
# - plain: simple text
# - markdown: MarkdownV2 (escaped), nicer layout
TELEGRAM_FORMAT=plain

# Server
PORT=3000

# Logging + dedup
# - DB_PATH can be absolute, or relative to the server/ folder.
DB_PATH=./sms-bridge.sqlite3

# Any identical (from+body) within this window is treated as a duplicate.
DEDUP_WINDOW_SECONDS=120
